{"ast":null,"code":"var _jsxFileName = \"F:\\\\programming hero\\\\project\\\\firebase-auth\\\\src\\\\App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../node_modules/font-awesome/css/font-awesome.min.css';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './firebase.config';\nimport avatar from './images/avater.png';\nfirebase.initializeApp(firebaseConfig);\n\nfunction App() {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  const [user, setUser] = useState({\n    isSignedIn: false,\n    name: '',\n    email: '',\n    password: '',\n    photo: avatar\n  });\n\n  const signInHandler = () => {\n    firebase.auth().signInWithPopup(provider).then(res => {\n      const {\n        displayName,\n        email,\n        photoURL\n      } = res.user;\n      setUser({\n        isSignedIn: true,\n        name: displayName,\n        email: email,\n        password: '',\n        photo: photoURL\n      });\n    }).catch(err => {\n      document.getElementById('error').innerText = err;\n    });\n  };\n\n  const signOutHandler = () => {\n    firebase.auth().signOut().then(res => {\n      setUser({\n        isSignedIn: false,\n        name: '',\n        email: '',\n        password: '',\n        photo: ''\n      });\n    }).catch(err => {\n      document.getElementById('error').innerText = err;\n    });\n  }; //check validation\n\n\n  const is_valid_email = mail => /(.+)@(.+){2,}\\.(.+){2,}/.test(mail);\n\n  const hasNumber = pass => /\\d/.test(pass);\n\n  const changeHandler = e => {\n    const newUser = { ...user\n    }; //perform validation\n\n    let isValidMail = true;\n    let isValidPass = true;\n\n    if (e.target.name === 'email') {\n      isValidMail = is_valid_email(e.target.value);\n    }\n\n    if (e.target.name === 'password') {\n      isValidPass = e.target.value.length >= 8 && hasNumber(e.target.value);\n    }\n\n    newUser[e.target.name] = e.target.value;\n    newUser.validEmail = isValidMail;\n    newUser.validPass = isValidPass;\n    setUser(newUser);\n  };\n\n  const createAccount = e => {\n    if (user.validEmail && user.validPass) {\n      firebase.auth().createUserWithEmailAndPassword(user.email, user.password).then(res => {\n        const createdUser = { ...user\n        };\n        createdUser.isSignedIn = true;\n        createdUser.error = '';\n        setUser(createdUser);\n      }).catch(err => {\n        const createdUser = { ...user\n        };\n        createdUser.isSignedIn = false;\n        createdUser.error = err.message;\n        setUser(createdUser);\n      });\n    } else {\n      console.log(\"Form Invalid\");\n    }\n\n    e.preventDefault();\n    e.target.reset();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-4 mx-auto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Firebase Authentication\"), !user.isSignedIn && React.createElement(\"button\", {\n    className: \"btn\",\n    style: {\n      backgroundColor: '#92342e',\n      color: '#fff'\n    },\n    onClick: signInHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-google\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), \" Continue with Gmail\"), React.createElement(\"p\", {\n    id: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"  \"), user.isSignedIn && React.createElement(\"div\", {\n    className: \"card text-center mx-auto bg-dark text-light\",\n    style: {\n      width: '250px',\n      marginTop: '100px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"card-img-top rounded-circle mx-auto\",\n    src: user.photo,\n    style: {\n      maxWidth: '170px',\n      marginTop: '-80px'\n    },\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"card-header text-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Welcome \", user.name), React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Email: \", user.email)), React.createElement(\"div\", {\n    className: \"card-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: signOutHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Sign Out\"))), React.createElement(\"p\", {\n    className: \"divider-text my-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"bg-light px-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"OR\")), React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"nav nav-tabs\",\n    id: \"nav-tab\",\n    role: \"tablist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    class: \"nav-item nav-link active\",\n    id: \"nav-home-tab\",\n    \"data-toggle\": \"tab\",\n    href: \"#nav-home\",\n    role: \"tab\",\n    \"aria-controls\": \"nav-home\",\n    \"aria-selected\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Home\"), React.createElement(\"a\", {\n    class: \"nav-item nav-link\",\n    id: \"nav-profile-tab\",\n    \"data-toggle\": \"tab\",\n    href: \"#nav-profile\",\n    role: \"tab\",\n    \"aria-controls\": \"nav-profile\",\n    \"aria-selected\": \"false\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Profile\"), React.createElement(\"a\", {\n    class: \"nav-item nav-link\",\n    id: \"nav-contact-tab\",\n    \"data-toggle\": \"tab\",\n    href: \"#nav-contact\",\n    role: \"tab\",\n    \"aria-controls\": \"nav-contact\",\n    \"aria-selected\": \"false\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Contact\"))), React.createElement(\"div\", {\n    class: \"tab-content\",\n    id: \"nav-tabContent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"tab-pane fade show active\",\n    id: \"nav-home\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-home-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"...\"), React.createElement(\"div\", {\n    class: \"tab-pane fade\",\n    id: \"nav-profile\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-profile-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"...\"), React.createElement(\"div\", {\n    class: \"tab-pane fade\",\n    id: \"nav-contact\",\n    role: \"tabpanel\",\n    \"aria-labelledby\": \"nav-contact-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"...\")), React.createElement(\"form\", {\n    onSubmit: createAccount,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group input-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    className: \"fa fa-user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), \" \")), React.createElement(\"input\", {\n    onBlur: changeHandler,\n    className: \"form-control\",\n    placeholder: \"Name\",\n    type: \"text\",\n    name: \"name\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group input-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    className: \"fa fa-envelope\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), \" \")), React.createElement(\"input\", {\n    onBlur: changeHandler,\n    className: \"form-control\",\n    placeholder: \"Email address\",\n    type: \"email\",\n    name: \"email\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group input-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    className: \"fa fa-lock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), \" \")), React.createElement(\"input\", {\n    onBlur: changeHandler,\n    className: \"form-control\",\n    placeholder: \"Password - must be at least 8 characters and contains number\",\n    type: \"password\",\n    name: \"password\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \" Create Account  \"))), user.error && React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \" \", user.error, \" \")));\n}\n\nexport default App;","map":{"version":3,"sources":["F:/programming hero/project/firebase-auth/src/App.js"],"names":["React","useState","firebase","firebaseConfig","avatar","initializeApp","App","provider","auth","GoogleAuthProvider","user","setUser","isSignedIn","name","email","password","photo","signInHandler","signInWithPopup","then","res","displayName","photoURL","catch","err","document","getElementById","innerText","signOutHandler","signOut","is_valid_email","mail","test","hasNumber","pass","changeHandler","e","newUser","isValidMail","isValidPass","target","value","length","validEmail","validPass","createAccount","createUserWithEmailAndPassword","createdUser","error","message","console","log","preventDefault","reset","backgroundColor","color","width","marginTop","maxWidth"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../node_modules/font-awesome/css/font-awesome.min.css';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './firebase.config';\nimport avatar from './images/avater.png'\n\nfirebase.initializeApp(firebaseConfig);\n\nfunction App() {\n  const provider = new firebase.auth.GoogleAuthProvider();\n  const [user, setUser] = useState({\n    isSignedIn: false,\n    name: '',\n    email: '',\n    password:'',\n    photo: avatar\n  })\n  const signInHandler = () => {\n    firebase.auth().signInWithPopup(provider)\n      .then(res => {\n        const { displayName, email, photoURL } = res.user;\n        setUser({\n          isSignedIn: true,\n          name: displayName,\n          email: email,\n          password :'',\n          photo: photoURL,\n        })\n      })\n      .catch(err => {\n        document.getElementById('error').innerText = err;\n      })\n  }\n  const signOutHandler = () => {\n    firebase.auth().signOut()\n      .then(res => {\n        setUser({\n          isSignedIn: false,\n          name: '',\n          email: '',\n          password : '',\n          photo: '',\n        })\n      })\n      .catch(err => {\n        document.getElementById('error').innerText = err;\n      })\n  }\n  //check validation\n  const is_valid_email = mail => /(.+)@(.+){2,}\\.(.+){2,}/.test(mail);\n  const hasNumber = pass => /\\d/.test(pass);\n  \n  const changeHandler = (e) =>{\n    const newUser = {\n      ...user\n    }\n    //perform validation\n    let isValidMail = true;\n    let isValidPass = true;\n    if (e.target.name === 'email') {\n      isValidMail = is_valid_email(e.target.value);\n    }\n    if (e.target.name === 'password'){\n      isValidPass = e.target.value.length >= 8 && hasNumber(e.target.value);\n    }\n    newUser[e.target.name]=e.target.value;\n    newUser.validEmail = isValidMail;\n    newUser.validPass = isValidPass;\n    setUser(newUser);\n  }\n  const createAccount = (e)=>{\n    if(user.validEmail && user.validPass){\n      firebase.auth().createUserWithEmailAndPassword(user.email,user.password)\n      .then(res => {\n        const createdUser ={...user};\n        createdUser.isSignedIn = true;\n        createdUser.error = '';\n        setUser(createdUser);\n      })\n      .catch(err => {\n        const createdUser ={...user};\n        createdUser.isSignedIn = false;\n        createdUser.error = err.message;\n        setUser(createdUser);\n      })\n      \n    }else{\n      console.log(\"Form Invalid\");\n    }\n    \n    e.preventDefault();\n    e.target.reset();\n  }\n  return (\n    <div className=\"App\">\n     <div className=\"col-4 mx-auto\">\n     <h1>Firebase Authentication</h1>\n      {\n        !user.isSignedIn &&\n        <button className=\"btn\" style={{ backgroundColor: '#92342e', color: '#fff' }} onClick={signInHandler}><i className=\"fa fa-google\"></i> Continue with Gmail</button>\n      }\n      <p id=\"error\">  </p>\n      {\n        user.isSignedIn &&\n        <div className=\"card text-center mx-auto bg-dark text-light\" style={{ width: '250px', marginTop: '100px' }}>\n          <img className=\"card-img-top rounded-circle mx-auto\" src={user.photo} style={{ maxWidth: '170px', marginTop: '-80px' }} alt=\"\" />\n\n          <div className=\"card-header text-light\">\n            Welcome {user.name}\n          </div>\n          <div className=\"card-body\">\n            <p className=\"card-text\">Email: {user.email}</p>\n          </div>\n          <div className=\"card-footer\">\n            <button className=\"btn btn-danger\" onClick={signOutHandler}>Sign Out</button>\n          </div>\n        </div>\n      }\n      <p className=\"divider-text my-4\">\n        <span className=\"bg-light px-5\">OR</span>\n      </p>\n      <nav>\n  <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n    <a class=\"nav-item nav-link active\" id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\">Home</a>\n    <a class=\"nav-item nav-link\" id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\">Profile</a>\n    <a class=\"nav-item nav-link\" id=\"nav-contact-tab\" data-toggle=\"tab\" href=\"#nav-contact\" role=\"tab\" aria-controls=\"nav-contact\" aria-selected=\"false\">Contact</a>\n  </div>\n</nav>\n<div class=\"tab-content\" id=\"nav-tabContent\">\n  <div class=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">...</div>\n  <div class=\"tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">...</div>\n  <div class=\"tab-pane fade\" id=\"nav-contact\" role=\"tabpanel\" aria-labelledby=\"nav-contact-tab\">...</div>\n</div>\n      <form onSubmit={createAccount}>\n      <div className=\"form-group input-group\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\"> <i className=\"fa fa-user\"></i> </span>\n          </div>\n          <input onBlur={changeHandler} className=\"form-control\" placeholder=\"Name\" type=\"text\" name=\"name\" required />\n      </div>\n      <div className=\"form-group input-group\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\"> <i className=\"fa fa-envelope\"></i> </span>\n          </div>\n          <input onBlur={changeHandler} className=\"form-control\" placeholder=\"Email address\" type=\"email\" name=\"email\" required />\n        </div>\n        <div className=\"form-group input-group\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\"> <i className=\"fa fa-lock\"></i> </span>\n          </div>\n          <input onBlur={changeHandler} className=\"form-control\" placeholder=\"Password - must be at least 8 characters and contains number\" type=\"password\" name=\"password\" required />\n        </div>\n        <div className=\"form-group\">\n          <button type=\"submit\" className=\"btn btn-primary btn-block\"> Create Account  </button>\n        </div>\n      </form>\n      {\n        user.error && <p style={{color:'red'}}> {user.error} </p>\n      }\n     </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}